Now I have all the context needed to write the plan. There is 1 newsletter in the mailbox. The workflow is well-defined in the `/generate-news` command.

## Plan: Generate news articles from mailbox

The project has a well-established newsletter-to-article pipeline using the newsletter-ai MCP server. There is currently 1 newsletter in the mailbox (Substac pattern). The workflow involves preparing newsletters from the IMAP mailbox, extracting/scraping article links, generating markdown articles using the prompt template (with Scott Hanselman persona, English output), saving them to `/news/2026/`, and committing the results.

### Tasks

- [x] Task 1: Parse arguments and check mailbox — call `get_newsletters_count` to confirm available newsletters, set limit=1 (default), no pattern filter, no safe mode
- [x] Task 2: Prepare newsletters — call `prepare_newsletters(limit=1)` to fetch emails, extract links, clean/enrich them, and write to LINKS.yaml
- [x] Task 3: Get newsletters list and config — call `get_newsletters_list`, `get_config`, and `get_prompt_template` to retrieve prepared newsletter data, narrator persona (Scott Hanselman), output language (EN), and the full prompt template
- [x] Task 4: Process the newsletter — detect if body-only mode is needed (check for "The Batch" name), call `get_newsletter_links(uid)` to get links, scrape each link with `scrape_article(url)`, fall back to `get_newsletter_body(uid)` if all links fail or there are 0 links
- [x] Task 5: Generate article content — use the prompt template with `{NARRATOR_PERSONA}=Scott Hanselman`, `{OUTPUT_LANGUAGE}=EN`, `{NEWSLETTER_CONTENT}=scraped content`, generate markdown with frontmatter (title, excerpt, publishedAt=2026-02-08, slug, hashtags), TLDR, detailed summaries per topic, key takeaways, tradeoffs, and `**Link:** [Title](URL)` entries
- [x] Task 6: Save the generated article — call `save_article(content, newsletterName)` to write the markdown file to `/news/2026/`
- [x] Task 7: Mark processed newsletters — call `mark_newsletters_as_processed(uids=[successful_uid])` to mark the processed email as read/deleted
- [x] Task 8: Commit and push — stage new articles with `git add news/`, commit with conventional format message (e.g., `feat: add newsletter article for 2026-02-08`), and push to remote
